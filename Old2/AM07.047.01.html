<!DOCTYPE html>

<html lang="ca">
<head>
<meta charset="utf-8"/>
<title>Pi del Rèvol</title>
<link href="../css/style.css" rel="stylesheet"/>
</head>
<body>
<header><h1>Pi del Rèvol</h1></header>
<main>
<ul>
<li><strong>Matrícula:</strong> <span id="matricula">AM07.047.01</span></li>
<li><strong>Tàxon:</strong> Pinus nigra salzmannii</li>
<li><strong>Tipologia:</strong> Perennifoli</li>
<li><strong>Terme municipal:</strong> Cardona</li>
<li><strong>Comarca:</strong> El Bages</li>
<li><strong>Propietat:</strong> Pública  </li>
<li><strong>Classificació Etnoecològica (segons Boada i Boada a Arbres remarcables de Catalunya. 100 ombres colossals (pp. 22-23))</strong> Funcional - simbòlic , polític, productor d'eines</li>
</ul>
<h2>Informació Etnoecològica</h2>
<td>Pineda mes alta del moment de Catalunya. Li va caure un llamp al damunt. Es va donar permís per tallar-lo (El Pi era mort des de l'incendi de 1998): "El 22 de gener de l’any 2000, el senyor Rafael Garriga, actual propietari de la casa de Palà de Coma, va decidir tallar-lo. Amb l’arbre es van fer taulons i finalment l’any 2006 quan la fusta va ser prou seca per poder treballar-la, amb els quatre primers metres del tronc, en va fer un moble que actualment presideix la sala de la casa de Palà de Coma..." Una rodanxa del tronc és a la planta baixa. Comptant els anells van deduir entre 511 i 518 anys. L'Àliga de Cardona (figura antropomorfa de la imatgeria de Cardona): "A més d’estar coronada amb la corona ducal, l’Àliga porta gravat l’escut de la vila, realitzat amb un fragment de la fusta del pi del Rèvol, de més de 300 anys d’antiguitat. D’aquesta manera s’usarà un fragment de fusta que s’ha conservat d’aquest pi que ja existia quan l’antiga àliga ballava a Cardona".</td>
<td></td><h2>Informació etnoecològica afegida pels usuaris</h2>

<div id="llista-observacions"></div>
<h2>Bibliografia</h2>
<td>Generalitat de Catalunya (2013). <em>Pi del Rèvol</em>. Recuperat de <u>https://mediambient.gencat.cat/ca/05_ambits_dactuacio/patrimoni_natural/arbres-monumentals/am_arbres_monumentals_fitxes/bages-5/pi-del-revol-me/index.html</u>
Plantipodes-AM (2023).<br/> <em>Pi del rèvol</em>. Recuperat de <u>https://www.plantipodes-am.cat/fitxes/pirevol.html</u></td>
<div class="center">
<a href="../comarques/barcelona/el-bages.html">Torna a la comarca</a>
<a href="../index.html">Torna a l'inici</a>
</div>

<form onsubmit="afegirObservacio(event)">
<textarea id="observacions" placeholder="Escriu aquí la teva observació..." rows="5"></textarea><br/>
<div style="display: flex; justify-content: space-between; align-items: center;">
<button type="submit">Afegir observació</button>
<button onclick="imatge()" type="button">Imatges</button>
</div>
<div id="carrusel" style="display: none; width: 100%; height: 500px; overflow: hidden; margin-top: 10px; position: relative;">
<img id="imatge-carrusel" src="" style="height: 100%; margin: 0 auto; display: block;"/>
</div>
</form>
<div id="llista-observacions"></div>

<script>
    let index = 1;
    const total = 5;
    let intervalId = null;
    let carruselActiu = false;

    function imatge() {
        const nomMatricula = document.getElementById("matricula").textContent.trim();
        const carrusel = document.getElementById("carrusel");
        const img = document.getElementById("imatge-carrusel");

        if (carruselActiu) {
            clearInterval(intervalId);
            intervalId = null;
            carrusel.style.display = "none";
            index = 1;
            carruselActiu = false;
            return;
        }

        carrusel.style.display = "block";
        img.src = `/imatges/${nomMatricula}/${index}.jpeg`;
        carruselActiu = true;

        intervalId = setInterval(() => {
            index++;
            if (index > total) {
                clearInterval(intervalId);
                intervalId = null;
                carrusel.style.display = "none";
                index = 1;
                carruselActiu = false;
                return;
            }
            img.src = `/imatges/${nomMatricula}/${index}.jpeg`;
        }, 3000);
    }

    function afegirObservacio(e) {
        e.preventDefault();
        const text = document.getElementById("observacions").value;
        if (text.trim() === "") return;
        const div = document.createElement("div");
        div.textContent = text;
        document.getElementById("llista-observacions").appendChild(div);
        document.getElementById("observacions").value = "";
    }
</script>
</main>

</body>
</html>