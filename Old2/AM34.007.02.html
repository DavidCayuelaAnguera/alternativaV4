<!DOCTYPE html>

<html lang="ca">
<head>
<meta charset="utf-8"/>
<title>Roure de can Puig</title>
<link href="../css/style.css" rel="stylesheet"/>
</head>
<body>
<header><h1>Roure de can Puig</h1></header>
<main>
<ul>
<li><strong>Matrícula:</strong> <span id="matricula">AM34.007.02</span></li>
<li><strong>Tàxon:</strong> Quercus pubescens</li>
<li><strong>Tipologia:</strong> Caducifoli </li>
<li><strong>Terme municipal:</strong> Amer</li>
<li><strong>Comarca:</strong> La Selva</li>
<li><strong>Propietat:</strong> Pública  </li>
<li><strong>Classificació Etnoecològica (segons Boada i Boada a Arbres remarcables de Catalunya. 100 ombres colossals (pp. 22-23))</strong> Funcional - simbòlic, atractor turístic</li>
</ul>
<h2>Informació Etnoecològica</h2>
<td>El seu brancatge projectava una de les ombres més generoses de les comarques gironines i s’havia instal·lat una zona de pícnic propera al roure, just on hi ha la masia de la finca de can Puig. No hi ha veí d’Amer i de les rodalies que no hagi contemplat l’espectacularitat d’aquest exemplar. No hi ha mainada que no hi hagi passat una tarda de diversió. No se sap exactament la seva edat, però els més vells de la contrada ja el recorden com un arbre gran i majestuós. Antigament se l’anomenava el Roure de la Parada. Malgrat això, el Roure de Can Puig ha estat sempre un arbre discret. Està situat en un clot, a l’empara dels vents, sota les muntanyes del Puig d’Alí i la Barroca, just sota l’antiga torre fortificada de Roca Salva o de Sant Climent.</td>
<td></td><h2>Informació etnoecològica afegida pels usuaris</h2>

<div id="llista-observacions"></div>
<h2>Bibliografia</h2><td>Generalitat de Catalunya (2022). <em>Roure de Can Puig</em>. Recuperat de <u>https://mediambient.gencat.cat/ca/05_ambits_dactuacio/patrimoni_natural/arbres-monumentals/am_arbres_monumentals_fitxes/selva-17/roure-de-can-puig-mt/index.html</u> <br/>
Puig, A., (2006). <em>El roure més gran, a l'UCI</em>. Recuperat de <u>https://www.vilaweb.cat/www/elpunt/noticia?p_idcmp=1888937</u></td>
<td></td>
<p class="ample"></p>
<div class="center">
<a href="../comarques/girona/la-selva.html">Torna a la comarca</a>
<a href="../index.html">Torna a l'inici</a>
</div>

<form onsubmit="afegirObservacio(event)">
<textarea id="observacions" placeholder="Escriu aquí la teva observació..." rows="5"></textarea><br/>
<div style="display: flex; justify-content: space-between; align-items: center;">
<button type="submit">Afegir observació</button>
<button onclick="imatge()" type="button">Imatges</button>
</div>
<div id="carrusel" style="display: none; width: 100%; height: 500px; overflow: hidden; margin-top: 10px; position: relative;">
<img id="imatge-carrusel" src="" style="height: 100%; margin: 0 auto; display: block;"/>
</div>
</form>
<div id="llista-observacions"></div>

<script>
    let index = 1;
    const total = 5;
    let intervalId = null;
    let carruselActiu = false;

    function imatge() {
        const nomMatricula = document.getElementById("matricula").textContent.trim();
        const carrusel = document.getElementById("carrusel");
        const img = document.getElementById("imatge-carrusel");

        if (carruselActiu) {
            clearInterval(intervalId);
            intervalId = null;
            carrusel.style.display = "none";
            index = 1;
            carruselActiu = false;
            return;
        }

        carrusel.style.display = "block";
        img.src = `/imatges/${nomMatricula}/${index}.jpeg`;
        carruselActiu = true;

        intervalId = setInterval(() => {
            index++;
            if (index > total) {
                clearInterval(intervalId);
                intervalId = null;
                carrusel.style.display = "none";
                index = 1;
                carruselActiu = false;
                return;
            }
            img.src = `/imatges/${nomMatricula}/${index}.jpeg`;
        }, 3000);
    }

    function afegirObservacio(e) {
        e.preventDefault();
        const text = document.getElementById("observacions").value;
        if (text.trim() === "") return;
        const div = document.createElement("div");
        div.textContent = text;
        document.getElementById("llista-observacions").appendChild(div);
        document.getElementById("observacions").value = "";
    }
</script>
</main>

</body>
</html>